None<header>
<nav>
<ul>
</ul>
</nav>
</header><main>
<body class="jp-Notebook" data-jp-theme-light="true" data-jp-theme-name="JupyterLab Light"><nav id="custom-navigation" style="overflow-y:scroll; max-height:100vh;">
<a href="601.1-Scope.html">601.1-Scope</a><br/>
<a href="508.3.3-Separation.html">508.3.3-Separation</a><br/>
<a href="508.3.2-Allowable-Area-Height.html">508.3.2-Allowable-Area-Height</a><br/>
<a href="506.2.4-Mixed-Multi-Story copy.html">506.2.4-Mixed-Multi-Story copy</a><br/>
<a href="506.2.2-Mixed-One-Story.html">506.2.2-Mixed-One-Story</a><br/>
<a href="508-Mixed-Use.html">508-Mixed-Use</a><br/>
<a href="508.3.1-Occupancy.html">508.3.1-Occupancy</a><br/>
<a href="601-General.html">601-General</a><br/>
<a href="508.2.4-Seperation.html">508.2.4-Seperation</a><br/>
<a href="index.html">index</a><br/>
<a href="506.1-General.html">506.1-General</a><br/>
<a href="506.1.3-Basements.html">506.1.3-Basements</a><br/>
<a href="602-Construction.html">602-Construction</a><br/>
<a href="506.1.1-Unlimited-Area.html">506.1.1-Unlimited-Area</a><br/>
<a href="501-General.html">501-General</a><br/>
<a href="506.2-Allowable-Area.html">506.2-Allowable-Area</a><br/>
<a href="504.2-Mixed-Occupancy.html">504.2-Mixed-Occupancy</a><br/>
<a href="508.3-Nonseparated.html">508.3-Nonseparated</a><br/>
<a href="504.3-Height.html">504.3-Height</a><br/>
<a href="508.4-Separated.html">508.4-Separated</a><br/>
<a href="501.1-Scope.html">501.1-Scope</a><br/>
<a href="508.1-General.html">508.1-General</a><br/>
<a href="508.2-Accessory.html">508.2-Accessory</a><br/>
<a href="506.1.2-Special-Provisions.html">506.1.2-Special-Provisions</a><br/>
<a href="506-Building-Area.html">506-Building-Area</a><br/>
<a href="506.2.3-Single-Multi-Story.html">506.2.3-Single-Multi-Story</a><br/>
<a href="502.1-Definitions.html">502.1-Definitions</a><br/>
<a href="508.2.1-Occupancy.html">508.2.1-Occupancy</a><br/>
<a href="506.2.1-Single-One-Story.html">506.2.1-Single-One-Story</a><br/>
<a href="504.4-Stories.html">504.4-Stories</a><br/>
<a href="508.2.3-Allowable-Area.html">508.2.3-Allowable-Area</a><br/>
<a href="502-Definitions.html">502-Definitions</a><br/>
<a href="504-Height-Stories.html">504-Height-Stories</a><br/>
<a href="508.2.2-Allowable-Height.html">508.2.2-Allowable-Height</a><br/>
<a href="Chapter 5/501-General/501-General.html">501-General</a><br/>
<a href="Chapter 5/501-General/501.1-Scope.html">501.1-Scope</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.3.3-Separation.html">508.3.3-Separation</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.3.2-Allowable-Area-Height.html">508.3.2-Allowable-Area-Height</a><br/>
<a href="Chapter 5/508-Mixed-Use/508-Mixed-Use.html">508-Mixed-Use</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.3.1-Occupancy.html">508.3.1-Occupancy</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.2.4-Seperation.html">508.2.4-Seperation</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.3-Nonseparated.html">508.3-Nonseparated</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.4-Separated.html">508.4-Separated</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.1-General.html">508.1-General</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.2-Accessory.html">508.2-Accessory</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.2.1-Occupancy.html">508.2.1-Occupancy</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.2.3-Allowable-Area.html">508.2.3-Allowable-Area</a><br/>
<a href="Chapter 5/508-Mixed-Use/508.2.2-Allowable-Height.html">508.2.2-Allowable-Height</a><br/>
<a href="Chapter 5/506-Building-Area/506.2.4-Mixed-Multi-Story copy.html">506.2.4-Mixed-Multi-Story copy</a><br/>
<a href="Chapter 5/506-Building-Area/506.2.2-Mixed-One-Story.html">506.2.2-Mixed-One-Story</a><br/>
<a href="Chapter 5/506-Building-Area/506.1-General.html">506.1-General</a><br/>
<a href="Chapter 5/506-Building-Area/506.1.3-Basements.html">506.1.3-Basements</a><br/>
<a href="Chapter 5/506-Building-Area/506.1.1-Unlimited-Area.html">506.1.1-Unlimited-Area</a><br/>
<a href="Chapter 5/506-Building-Area/506.2-Allowable-Area.html">506.2-Allowable-Area</a><br/>
<a href="Chapter 5/506-Building-Area/506.1.2-Special-Provisions.html">506.1.2-Special-Provisions</a><br/>
<a href="Chapter 5/506-Building-Area/506-Building-Area.html">506-Building-Area</a><br/>
<a href="Chapter 5/506-Building-Area/506.2.3-Single-Multi-Story.html">506.2.3-Single-Multi-Story</a><br/>
<a href="Chapter 5/506-Building-Area/506.2.1-Single-One-Story.html">506.2.1-Single-One-Story</a><br/>
<a href="Chapter 5/502-Definitions/502.1-Definitions.html">502.1-Definitions</a><br/>
<a href="Chapter 5/502-Definitions/502-Definitions.html">502-Definitions</a><br/>
<a href="Chapter 5/504-Height-Stories/504.2-Mixed-Occupancy.html">504.2-Mixed-Occupancy</a><br/>
<a href="Chapter 5/504-Height-Stories/504.3-Height.html">504.3-Height</a><br/>
<a href="Chapter 5/504-Height-Stories/504.4-Stories.html">504.4-Stories</a><br/>
<a href="Chapter 5/504-Height-Stories/504-Height-Stories.html">504-Height-Stories</a><br/>
<a href="Chapter 6/601-General/601.1-Scope.html">601.1-Scope</a><br/>
<a href="Chapter 6/601-General/601-General.html">601-General</a><br/>
<a href="Chapter 6/602-Construction/602-Construction.html">602-Construction</a><br/>
</nav>

<main>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h1 id="Section-506.2.1---Single-occupancy,-one-story-buildings">Section 506.2.1 - Single-occupancy, one-story buildings<a class="anchor-link" href="#Section-506.2.1---Single-occupancy,-one-story-buildings">¶</a></h1><h2 id="Building-Code">Building Code<a class="anchor-link" href="#Building-Code">¶</a></h2><pre><code>The allowable area of a single-occupancy building with no more than one story above grade plane shall be determined in accordance with Equation 5-1: 

Aa = At + (NS x If)  (Equation 5-1)

where: 

Aa = Allowable area (square feet). 
At = Tabular allowable area factor (NS, S1, orS13R value, as applicable) in accordance with Table 506.2. 
NS = Tabular allowable area factor in accordancewith Table 506.2 for nonsprinklered building (regardless of whether thebuilding is sprinklered). 
If = Area factor increase due to frontage(percent) as calculated in accordance with Section 506.3. 
</code></pre>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [3]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Add the path to the Rule Notebooks folder to the system path</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">'../..'</span><span class="p">))</span>

<span class="c1"># Import the find_value function from table_lookup.py</span>
<span class="kn">from</span> <span class="nn">ruleFunctions</span> <span class="kn">import</span> <span class="n">get_building_info</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [4]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">SPARQLWrapper</span> <span class="kn">import</span> <span class="n">SPARQLWrapper</span><span class="p">,</span> <span class="n">JSON</span>

<span class="c1"># Define the SPARQL endpoint URL and query file path</span>
<span class="n">endpoint_url</span> <span class="o">=</span> <span class="s2">"http://localhost:3030/SmartReviewHotel/sparql"</span>

<span class="n">sparql</span> <span class="o">=</span> <span class="n">SPARQLWrapper</span><span class="p">(</span><span class="n">endpoint_url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [14]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Call the function to get the building information</span>
<span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">storey_num</span> <span class="o">=</span> <span class="n">get_building_info</span><span class="p">(</span><span class="n">endpoint_url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [16]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">SPARQLWrapper</span> <span class="kn">import</span> <span class="n">SPARQLWrapper</span><span class="p">,</span> <span class="n">JSON</span>

<span class="c1"># Initialize SPARQL wrapper and set endpoint</span>
<span class="n">sparql</span> <span class="o">=</span> <span class="n">SPARQLWrapper</span><span class="p">(</span><span class="n">endpoint_url</span><span class="p">)</span>

<span class="c1"># Read the SPARQL query from file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"..\..\..\SPARQL</span><span class="se">\\</span><span class="s2">uniqueOccupancy.sparql"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">sparql_query</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># Set the SPARQL query and the return format</span>
<span class="n">sparql</span><span class="o">.</span><span class="n">setQuery</span><span class="p">(</span><span class="n">sparql_query</span><span class="p">)</span>
<span class="n">sparql</span><span class="o">.</span><span class="n">setReturnFormat</span><span class="p">(</span><span class="n">JSON</span><span class="p">)</span>

<span class="c1"># Execute the query and get the results in JSON format</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sparql</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>

<span class="c1"># Process results to get the number of unique occupancies</span>
<span class="n">story_dict</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="s2">"results"</span><span class="p">][</span><span class="s2">"bindings"</span><span class="p">]:</span>
    <span class="n">level_value</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">"levelValue"</span><span class="p">][</span><span class="s2">"value"</span><span class="p">]</span>
    <span class="n">occupancies</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">"uniqueOccupancies"</span><span class="p">][</span><span class="s2">"value"</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">", "</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">level_value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">story_dict</span><span class="p">:</span>
        <span class="n">story_dict</span><span class="p">[</span><span class="n">level_value</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">story_dict</span><span class="p">[</span><span class="n">level_value</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">occupancies</span><span class="p">)</span>

<span class="c1"># Calculate the number of unique occupancies</span>
<span class="n">num_unique_occupancies</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">occupancies</span> <span class="ow">in</span> <span class="n">story_dict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">unique_occupancies</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">occupancies</span><span class="p">)</span>  <span class="c1"># Remove duplicates</span>
    <span class="n">num_unique_occupancies</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">num_unique_occupancies</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_occupancies</span><span class="p">))</span>

<span class="c1">#print(num_unique_occupancies)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [15]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">storey_num</span><span class="p">)</span><span class="o">==</span> <span class="mi">1</span><span class="p">:</span> 
    <span class="k">if</span> <span class="n">num_unique_occupancies</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> 
        <span class="n">result</span> <span class="o">=</span> <span class="s2">"Applicable"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s2">"Not Applicable"</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="n">result</span> <span class="o">=</span> <span class="s2">"Not Applicable"</span>
    
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"This section is considered: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">"</span>
      <span class="s2">"</span><span class="se">\n\n</span><span class="s2">This section only applies if the building is a single story and a single occupancy. However, this building has:"</span><span class="p">)</span>

<span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">storey_num</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">"• One Story"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">"• Multiple Stories"</span><span class="p">)</span>

<span class="k">if</span> <span class="n">num_unique_occupancies</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">"• One Occupancy"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">"• Mixed Occupancies"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>This section is considered: Not Applicable

This section only applies if the building is a single story and a single occupancy. However, this building has:
• Multiple Stories
• Mixed Occupancies
</pre>
</div>
</div>
</div>
</div>
</div>
</main>
</body>
</main>
